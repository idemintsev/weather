{% extends 'web_app/base.html' %}

{% block content %}

<div class="container">
    {% include 'web_app/filter_dashboard.html' %}
    {{ content }}
</div>

<div id="container_dashboard" style="width:100%; height:400px;"></div>

<script>
var data = JSON.parse ("{{data | escapejs}}");
console.log(data.temperature)
document.addEventListener('DOMContentLoaded', function () {
        const chart = Highcharts.chart('container_dashboard', {
            chart: {
                type: 'bar'
            },
            title: {
                text: data.title
            },
            xAxis: {
                categories: data.date
            },
            yAxis: {
                title: {
                    text: 'Температура'
                }
            },
            series: [{
                name: data.city,
                data: data.temperature.map(i=>Number(i))
            },
            ]
        });
    });

</script>


{% endblock content %}